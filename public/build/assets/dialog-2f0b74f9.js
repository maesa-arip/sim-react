import{r as u,e as f,c as Re}from"./app-f5e75cbf.js";import{a as se,V as D,y as R,l as K,o as T,u as x,b as Pe,X as P,t as Q,f as ce,c as J,T as ke,d as de,j as ae,s as Fe,p as le,m as Ce}from"./transition-8157427c.js";import{e as fe,a as j,L,h as U,s as _,S as k,N as Se,I as B,b as Ae,o as Le,r as xe}from"./keyboard-0fc7e943.js";import{m as pe,F as Me,k as Ie}from"./description-31fa1b6e.js";function Oe(e,r,n){let o=se(r);u.useEffect(()=>{function t(i){o.current(i)}return window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)},[e,n])}var O=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(O||{});function Be(){let e=u.useRef(0);return Oe("keydown",r=>{r.key==="Tab"&&(e.current=r.shiftKey?1:0)},!0),e}function Y(...e){return u.useMemo(()=>fe(...e),[...e])}function Z(e,r,n,o){let t=se(n);u.useEffect(()=>{e=e??window;function i(a){t.current(a)}return e.addEventListener(r,i,o),()=>e.removeEventListener(r,i,o)},[e,r,o])}let He="div";var me=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(me||{});let I=Object.assign(D(function(e,r){let n=u.useRef(null),o=R(n,r),{initialFocus:t,containers:i,features:a=30,...l}=e;K()||(a=1);let d=Y(n);Ne({ownerDocument:d},Boolean(a&16));let c=je({ownerDocument:d,container:n,initialFocus:t},Boolean(a&2));Ve({ownerDocument:d,container:n,containers:i,previousActiveElement:c},Boolean(a&8));let s=Be(),g=T(h=>{let w=n.current;w&&(y=>y())(()=>{x(s.current,{[O.Forwards]:()=>{j(w,L.First,{skipElements:[h.relatedTarget]})},[O.Backwards]:()=>{j(w,L.Last,{skipElements:[h.relatedTarget]})}})})}),b=Pe(),p=u.useRef(!1),M={ref:o,onKeyDown(h){h.key=="Tab"&&(p.current=!0,b.requestAnimationFrame(()=>{p.current=!1}))},onBlur(h){let w=new Set(i==null?void 0:i.current);w.add(n);let y=h.relatedTarget;y instanceof HTMLElement&&y.dataset.headlessuiFocusGuard!=="true"&&(ge(w,y)||(p.current?j(n.current,x(s.current,{[O.Forwards]:()=>L.Next,[O.Backwards]:()=>L.Previous})|L.WrapAround,{relativeTo:h.target}):h.target instanceof HTMLElement&&k(h.target)))}};return f.createElement(f.Fragment,null,Boolean(a&4)&&f.createElement(U,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:g,features:_.Focusable}),P({ourProps:M,theirProps:l,defaultTag:He,name:"FocusTrap"}),Boolean(a&4)&&f.createElement(U,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:g,features:_.Focusable}))}),{features:me});function Ne({ownerDocument:e},r){let n=u.useRef(null);Z(e==null?void 0:e.defaultView,"focusout",t=>{!r||n.current||(n.current=t.target)},!0),pe(()=>{r||((e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&k(n.current),n.current=null)},[r]);let o=u.useRef(!1);u.useEffect(()=>(o.current=!1,()=>{o.current=!0,Q(()=>{!o.current||(k(n.current),n.current=null)})}),[])}function je({ownerDocument:e,container:r,initialFocus:n},o){let t=u.useRef(null),i=ce();return pe(()=>{if(!o)return;let a=r.current;!a||Q(()=>{if(!i.current)return;let l=e==null?void 0:e.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===l){t.current=l;return}}else if(a.contains(l)){t.current=l;return}n!=null&&n.current?k(n.current):j(a,L.First)===Se.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),t.current=e==null?void 0:e.activeElement})},[o]),t}function Ve({ownerDocument:e,container:r,containers:n,previousActiveElement:o},t){let i=ce();Z(e==null?void 0:e.defaultView,"focus",a=>{if(!t||!i.current)return;let l=new Set(n==null?void 0:n.current);l.add(r);let d=o.current;if(!d)return;let c=a.target;c&&c instanceof HTMLElement?ge(l,c)?(o.current=c,k(c)):(a.preventDefault(),a.stopPropagation(),k(d)):k(o.current)},!0)}function ge(e,r){var n;for(let o of e)if((n=o.current)!=null&&n.contains(r))return!0;return!1}let A=new Set,$=new Map;function ie(e){e.setAttribute("aria-hidden","true"),e.inert=!0}function ue(e){let r=$.get(e);!r||(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert)}function Ye(e,r=!0){J(()=>{if(!r||!e.current)return;let n=e.current,o=fe(n);if(o){A.add(n);for(let t of $.keys())t.contains(n)&&(ue(t),$.delete(t));return o.querySelectorAll("body > *").forEach(t=>{if(t instanceof HTMLElement){for(let i of A)if(t.contains(i))return;A.size===1&&($.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),ie(t))}}),()=>{if(A.delete(n),A.size>0)o.querySelectorAll("body > *").forEach(t=>{if(t instanceof HTMLElement&&!$.has(t)){for(let i of A)if(t.contains(i))return;$.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),ie(t)}});else for(let t of $.keys())ue(t),$.delete(t)}}},[r])}let ve=u.createContext(!1);function We(){return u.useContext(ve)}function G(e){return f.createElement(ve.Provider,{value:e.force},e.children)}function qe(e){let r=We(),n=u.useContext(he),o=Y(e),[t,i]=u.useState(()=>{if(!r&&n!==null||de.isServer)return null;let a=o==null?void 0:o.getElementById("headlessui-portal-root");if(a)return a;if(o===null)return null;let l=o.createElement("div");return l.setAttribute("id","headlessui-portal-root"),o.body.appendChild(l)});return u.useEffect(()=>{t!==null&&(o!=null&&o.body.contains(t)||o==null||o.body.appendChild(t))},[t,o]),u.useEffect(()=>{r||n!==null&&i(n.current)},[n,i,r]),t}let Ue=u.Fragment,_e=D(function(e,r){let n=e,o=u.useRef(null),t=R(ke(s=>{o.current=s}),r),i=Y(o),a=qe(o),[l]=u.useState(()=>{var s;return de.isServer?null:(s=i==null?void 0:i.createElement("div"))!=null?s:null}),d=K(),c=u.useRef(!1);return J(()=>{if(c.current=!1,!(!a||!l))return a.contains(l)||(l.setAttribute("data-headlessui-portal",""),a.appendChild(l)),()=>{c.current=!0,Q(()=>{var s;!c.current||!a||!l||(l instanceof Node&&a.contains(l)&&a.removeChild(l),a.childNodes.length<=0&&((s=a.parentElement)==null||s.removeChild(a)))})}},[a,l]),d?!a||!l?null:Re.createPortal(P({ourProps:{ref:t},theirProps:n,defaultTag:Ue,name:"Portal"}),l):null}),Ge=u.Fragment,he=u.createContext(null),Xe=D(function(e,r){let{target:n,...o}=e,t={ref:R(r)};return f.createElement(he.Provider,{value:n},P({ourProps:t,theirProps:o,defaultTag:Ge,name:"Popover.Group"}))}),X=Object.assign(_e,{Group:Xe}),ee=u.createContext(()=>{});ee.displayName="StackContext";var z=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(z||{});function ze(){return u.useContext(ee)}function Ke({children:e,onUpdate:r,type:n,element:o,enabled:t}){let i=ze(),a=T((...l)=>{r==null||r(...l),i(...l)});return J(()=>{let l=t===void 0||t===!0;return l&&a(0,n,o),()=>{l&&a(1,n,o)}},[a,n,o,t]),f.createElement(ee.Provider,{value:a},e)}function Qe(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}var Je=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Je||{}),Ze=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(Ze||{});let et={[0](e,r){return e.titleId===r.id?e:{...e,titleId:r.id}}},V=u.createContext(null);V.displayName="DialogContext";function H(e){let r=u.useContext(V);if(r===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,H),n}return r}function tt(e,r,n=()=>[document.body]){u.useEffect(()=>{var o;if(!r||!e)return;let t=Ce(),i=window.pageYOffset;function a(c,s,g){let b=c.style.getPropertyValue(s);return Object.assign(c.style,{[s]:g}),t.add(()=>{Object.assign(c.style,{[s]:b})})}let l=e.documentElement,d=((o=e.defaultView)!=null?o:window).innerWidth-l.clientWidth;if(a(l,"overflow","hidden"),d>0){let c=l.clientWidth-l.offsetWidth,s=d-c;a(l,"paddingRight",`${s}px`)}if(Qe()){a(e.body,"marginTop",`-${i}px`),window.scrollTo(0,0);let c=null;t.addEventListener(e,"click",s=>{if(s.target instanceof HTMLElement)try{let g=s.target.closest("a");if(!g)return;let{hash:b}=new URL(g.href),p=e.querySelector(b);p&&!n().some(M=>M.contains(p))&&(c=p)}catch{}},!0),t.addEventListener(e,"touchmove",s=>{s.target instanceof HTMLElement&&!n().some(g=>g.contains(s.target))&&s.preventDefault()},{passive:!1}),t.add(()=>{window.scrollTo(0,window.pageYOffset+i),c&&c.isConnected&&(c.scrollIntoView({block:"nearest"}),c=null)})}return t.dispose},[e,r])}function nt(e,r){return x(r.type,et,e,r)}let rt="div",ot=ae.RenderStrategy|ae.Static,at=D(function(e,r){let n=B(),{id:o=`headlessui-dialog-${n}`,open:t,onClose:i,initialFocus:a,__demoMode:l=!1,...d}=e,[c,s]=u.useState(0),g=Fe();t===void 0&&g!==null&&(t=x(g,{[le.Open]:!0,[le.Closed]:!1}));let b=u.useRef(new Set),p=u.useRef(null),M=R(p,r),h=u.useRef(null),w=Y(p),y=e.hasOwnProperty("open")||g!==null,te=e.hasOwnProperty("onClose");if(!y&&!te)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!y)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!te)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof t!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t}`);if(typeof i!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${i}`);let E=t?0:1,[F,we]=u.useReducer(nt,{titleId:null,descriptionId:null,panelRef:u.createRef()}),C=T(()=>i(!1)),ne=T(m=>we({type:0,id:m})),W=K()?l?!1:E===0:!1,N=c>1,Ee=u.useContext(V)!==null,be=N?"parent":"leaf";Ye(p,N?W:!1);let re=T(()=>{var m,S;return[...Array.from((m=w==null?void 0:w.querySelectorAll("html > *, body > *, [data-headlessui-portal]"))!=null?m:[]).filter(v=>!(v===document.body||v===document.head||!(v instanceof HTMLElement)||v.contains(h.current)||F.panelRef.current&&v.contains(F.panelRef.current))),(S=F.panelRef.current)!=null?S:p.current]});Ae(()=>re(),C,W&&!N),Z(w==null?void 0:w.defaultView,"keydown",m=>{m.defaultPrevented||m.key===Le.Escape&&E===0&&(N||(m.preventDefault(),m.stopPropagation(),C()))}),tt(w,E===0&&!Ee,re),u.useEffect(()=>{if(E!==0||!p.current)return;let m=new IntersectionObserver(S=>{for(let v of S)v.boundingClientRect.x===0&&v.boundingClientRect.y===0&&v.boundingClientRect.width===0&&v.boundingClientRect.height===0&&C()});return m.observe(p.current),()=>m.disconnect()},[E,p,C]);let[ye,$e]=Ie(),Te=u.useMemo(()=>[{dialogState:E,close:C,setTitleId:ne},F],[E,F,C,ne]),oe=u.useMemo(()=>({open:E===0}),[E]),De={ref:M,id:o,role:"dialog","aria-modal":E===0?!0:void 0,"aria-labelledby":F.titleId,"aria-describedby":ye};return f.createElement(Ke,{type:"Dialog",enabled:E===0,element:p,onUpdate:T((m,S,v)=>{S==="Dialog"&&x(m,{[z.Add](){b.current.add(v),s(q=>q+1)},[z.Remove](){b.current.add(v),s(q=>q-1)}})})},f.createElement(G,{force:!0},f.createElement(X,null,f.createElement(V.Provider,{value:Te},f.createElement(X.Group,{target:p},f.createElement(G,{force:!1},f.createElement($e,{slot:oe,name:"Dialog.Description"},f.createElement(I,{initialFocus:a,containers:b,features:W?x(be,{parent:I.features.RestoreFocus,leaf:I.features.All&~I.features.FocusLock}):I.features.None},P({ourProps:De,theirProps:d,slot:oe,defaultTag:rt,features:ot,visible:E===0,name:"Dialog"})))))))),f.createElement(U,{features:_.Hidden,ref:h}))}),lt="div",it=D(function(e,r){let n=B(),{id:o=`headlessui-dialog-overlay-${n}`,...t}=e,[{dialogState:i,close:a}]=H("Dialog.Overlay"),l=R(r),d=T(s=>{if(s.target===s.currentTarget){if(xe(s.currentTarget))return s.preventDefault();s.preventDefault(),s.stopPropagation(),a()}}),c=u.useMemo(()=>({open:i===0}),[i]);return P({ourProps:{ref:l,id:o,"aria-hidden":!0,onClick:d},theirProps:t,slot:c,defaultTag:lt,name:"Dialog.Overlay"})}),ut="div",st=D(function(e,r){let n=B(),{id:o=`headlessui-dialog-backdrop-${n}`,...t}=e,[{dialogState:i},a]=H("Dialog.Backdrop"),l=R(r);u.useEffect(()=>{if(a.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[a.panelRef]);let d=u.useMemo(()=>({open:i===0}),[i]);return f.createElement(G,{force:!0},f.createElement(X,null,P({ourProps:{ref:l,id:o,"aria-hidden":!0},theirProps:t,slot:d,defaultTag:ut,name:"Dialog.Backdrop"})))}),ct="div",dt=D(function(e,r){let n=B(),{id:o=`headlessui-dialog-panel-${n}`,...t}=e,[{dialogState:i},a]=H("Dialog.Panel"),l=R(r,a.panelRef),d=u.useMemo(()=>({open:i===0}),[i]),c=T(s=>{s.stopPropagation()});return P({ourProps:{ref:l,id:o,onClick:c},theirProps:t,slot:d,defaultTag:ct,name:"Dialog.Panel"})}),ft="h2",pt=D(function(e,r){let n=B(),{id:o=`headlessui-dialog-title-${n}`,...t}=e,[{dialogState:i,setTitleId:a}]=H("Dialog.Title"),l=R(r);u.useEffect(()=>(a(o),()=>a(null)),[o,a]);let d=u.useMemo(()=>({open:i===0}),[i]);return P({ourProps:{ref:l,id:o},theirProps:t,slot:d,defaultTag:ft,name:"Dialog.Title"})}),wt=Object.assign(at,{Backdrop:st,Panel:dt,Overlay:it,Title:pt,Description:Me});export{wt as m};
